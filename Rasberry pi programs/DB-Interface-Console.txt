import sys
import pymongo

from pymongo import MongoClient
import json
#Setup Connection to mongolabs
connection = MongoClient("ds054298.mongolab.com" ,54298)
db = connection ["rasppi"]

#Setup authentication for mongolabs
db.authenticate("admin","Azerty123")
#posts=db.posts

print "Succesfully connected to mongodb"
while True:
        keuzevar = raw_input("Uploaden naar db of lezen ? y/n :")
        if keuzevar == "y":
                Type = raw_input("Pleas enter the type of the component :")
                Value = raw_input("Pleas enter the value of the component : ")
                Quantity = raw_input("Pleas enter the Quantity : :")
                Barcode = raw_input("Pleas enter a valide barcode for the component : ")
                Note = raw_input("Enter varia information fore this component : ")
                post = {"Type":Type,
                        "Value":Value,
                        "Quantity":Quantity,
                        "Barcode":Barcode,
                        "Note":Note}
                posts = db.posts
                posts.insert(post)

        else:
                print "Search barcode"
                Bar = raw_input("Pleas Give a valide Barcode")

                zoeken = db.posts.find({"Barcode":Bar})
                for document in zoeken:
                        print(document)
        print("Press ctrl-C to quit")
